"use strict";var MevenBoxApp=angular.module("mevenboxAngApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","mevenBoxControllers"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/connect.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/"})}]);MevenBoxApp.directive("netmask",function(){return{require:"ngModel",link:function(a,b,c,d){d.$validators.netmask=function(a,b){if(d.$isEmpty(a))return!0;var c;if(null!=(c=b.match(/^([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/))){var e,f=["255","254","252","248","240","224","192","128","0"],g="255";for(e=1;5>e;e++)if("255"===g&&-1!==f.indexOf(c[e]))g=c[e];else if("0"!==c[e])return!1;return!0}return!1}}}}),MevenBoxApp.directive("ipaddress",function(){return{require:"ngModel",link:function(a,b,c,d){d.$validators.ipaddress=function(a,b){if(d.$isEmpty(a))return!0;var c;if(null!=(c=b.match(/^([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/))){var e;for(e=1;5>e;e++){var f=parseInt(c[e]);if(f>255)return!1}return!0}return!1}}}});var mevenBoxControllers=angular.module("mevenBoxControllers",[]);mevenBoxControllers.controller("MainCtrl",["$scope","$http","$interval","$location",function(a,b,c,d){function e(){f(),g()}function f(){b.get("http://10.0.1.3:8000/api/status/online").success(h)}function g(){b.get("http://10.0.1.3:8000/api/status/").success(i)}function h(b){a.online=b.data.connected,console.log("Online",a.online)}function i(b){a.status=b.data,console.log("Status",a.status)}a.online=null,a.status=null,e(),c(function(){f()}.bind(this),5e3)}]),mevenBoxControllers.controller("FormWifiController",["$scope","$http","$interval","$location",function(a,b,c,d){function e(a){console.log("POST DELA")}a.master={},a.update=function(c){a.master=angular.copy(c),b.post("/someUrl",{msg:a.master}).success(e)},a.reset=function(){a.wlan=angular.copy(a.master)},a.reset()}]),angular.module("mevenboxAngApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("mevenboxAngApp").run(["$templateCache",function(a){a.put("views/connect.html","<p>This is the about view.</p>"),a.put("views/main.html",'<nav class="navbar navbar-default navbar-fixed-top br-none"> <div class="navbar-header text-center"> <a class="navbar-brand visible-xs" href="#"> DEVICE <strong>SETUP</strong> </a> </div> <div id="navbar" class="navbar-collapse"> <div class="navbar-head"> <div class="row"> <div class="col-sm-5 hidden-xs"> <h1 class="m-none">DEVICE <strong>SETUP</strong></h1> </div> <div class="col-sm-7" ng-switch="online"> <div ng-switch-when="2"> <div class="text-center visible-xs"> <strong class="text-success"><i class="icon-check ml-10 mr-10"></i>Internet connection detected</strong> </div> <div class="mt-5 text-right hidden-xs"> <span class="text-muted">Status:</span> <strong class="text-success text-150"><i class="icon-check ml-10 mr-10"></i>Internet connection detected</strong> </div> </div> <div ng-switch-when="1"> <div class="text-center visible-xs"> <strong class="text-warning"><i class="fa fa-closeml-10 mr-10"></i>No Internet connection</strong> </div> <div class="mt-5 text-right hidden-xs"> <span class="text-muted">Status:</span> <strong class="text-warning text-150"><i class="fa fa-close ml-10 mr-10"></i>No Internet connection</strong> </div> </div> <div ng-switch-when="3"> <div class="text-center visible-xs"> <strong class="text-success"><i class="icon-check ml-10 mr-10"></i>You are ready to go!</strong> </div> <div class="mt-5 text-right hidden-xs"> <span class="text-muted">Status:</span> <strong class="text-success text-150"><i class="icon-check ml-10 mr-10"></i>You are ready to go!</strong> </div> </div> </div> </div> </div> </div> </nav> <div class="container"> <div class="device-options clearfix"> <div class="pull-left"> <h4 class="m-none"> <span ng-show="status.network.interfaces.state.wlan0"> WiFi IP: <strong>{{status.network.interfaces.state.wlan0}}</strong> </span> <span class="ml-10" ng-show="status.network.interfaces.state.eth0"> LAN IP: <strong>{{status.network.interfaces.state.eth0}}</strong> </span> </h4> </div> <hr class="visible-sm visible-xs"> <div class="pull-right"> <a class="btn btn-default round" href=""><i class="fa fa-info mr-5 hidden-xs"></i> Info</a> <a class="btn btn-default round" href=""><i class="fa fa-refresh mr-5 hidden-xs"></i> Reboot Device</a> <a class="btn btn-default round" href=""><i class="fa fa-upload mr-5 hidden-xs"></i> Update Device</a> <a class="btn btn-default round" href=""><i class="fa fa-globe mr-5 hidden-xs"></i> Reset Network</a> <a class="btn btn-primary round" href=""><i class="fa fa-exclamation-triangle mr-5 hidden-xs"></i> Factory Reset</a> </div> </div> <hr class="mb-60"> <div class="row"> <div class="col-xs-8 col-xs-offset-2"> <div class="row"> <div class="col-md-6"> <div> <div class="row mb-20"> <div class="col-sm-8"> <h3 class="m-none"><strong>Wired</strong> Network</h3> </div> <hr class="visible-xs"> <div class="col-sm-4 cleafix"> <div class="clearfix pull-right"> <div class="pull-left"> <small class="text-primary mr-5">Enabled</small> </div> <label class="i-switch pull-left"> <input type="checkbox" checked> <i></i> </label> </div> </div> </div> <hr class="visible-xs"> <form class="form-horizontal"> <div class="form-group"> <label class="col-sm-4 control-label text-light">Network type</label> <div class="col-sm-8"> <input type="text" class="form-control" placeholder=""> </div> </div> <div class="form-group"> <label class="col-sm-4 control-label text-light">IP</label> <div class="col-sm-8"> <input type="text" class="form-control" placeholder=""> </div> </div> <div class="form-group"> <label class="col-sm-4 control-label text-light">Gateway</label> <div class="col-sm-8"> <input type="text" class="form-control" placeholder=""> </div> </div> <div class="form-group"> <label class="col-sm-4 control-label text-light">NET</label> <div class="col-sm-8"> <input type="text" class="form-control" placeholder=""> </div> </div> <div class="form-group"> <label class="col-sm-4 control-label text-light">DNS</label> <div class="col-sm-8"> <input type="text" class="form-control" placeholder=""> </div> </div> </form> </div> <hr class="mt-40 mb-40"> <div ng-show="status.network.wifiNetworks.length"> <div class="row mb-20"> <div class="col-sm-8"> <h3 class="m-none"><strong>Wireless</strong> Network</h3> </div> <hr class="visible-xs"> <div class="col-sm-4 cleafix"> <div class="clearfix pull-right"> <div class="pull-left"> <small class="text-muted mr-5">Disabled</small> </div> <label class="i-switch pull-left"> <input type="checkbox"> <i></i> </label> </div> </div> </div> <hr class="visible-xs"> <div ng-controller="FormWifiController"> <pre>form = {{wlan | json}}</pre> <pre>master = {{master | json}}</pre> <form class="form-horizontal simple-form" novalidate name="wlanForm"> <div class="form-group"> <label class="col-sm-4 control-label text-light">Wireless </label> <div class="col-sm-8"> <div class="btn-group text-left"> <select class="form-control" ng-model="wlan.name"><option ng-repeat="wifi in status.network.wifiNetworks">{{wifi.name}}</option></select> </div> </div> </div> <div class="form-group"> <label class="col-sm-4 control-label text-light">Password</label> <div class="col-sm-8"> <input type="password" ng-model="wlan.password" class="form-control" placeholder=""> </div> </div> <div class="form-group"> <label class="col-sm-4 control-label text-light">IP</label> <div class="col-sm-8"> <input type="text" ng-model="wlan.ip" ipaddress class="form-control" name="ip" ng-model-options="{ debounce: 500 }" placeholder=""> <span ng-show="wlanForm.ip.$invalid">Wrong ip address!</span> </div> </div> <div class="form-group"> <label class="col-sm-4 control-label text-light">Netmask</label> <div class="col-sm-8"> <input type="text" ng-model="wlan.netmask" netmask class="form-control" name="netmask" ng-model-options="{ debounce: 500 }" placeholder=""> <span ng-show="wlanForm.$error.netmask">Wrong ip netmask!</span> </div> </div> <div class="form-group"> <label class="col-sm-4 control-label text-light">Gateway</label> <div class="col-sm-8"> <input type="text" ng-model="wlan.gateway" ipaddress name="gateway" class="form-control" placeholder=""> <span ng-show="wlanForm.gateway.$invalid">Wrong gateway address!</span> </div> </div> <div class="form-group"> <label class="col-sm-4 control-label text-light">Dns</label> <div class="col-sm-8"> <input type="text" ng-model="wlan.dns" class="form-control" placeholder=""> </div> </div> <div class="form-group"> <input class="btn btn-default" type="submit" ng-click="reset()" value="reset"> <input class="btn btn-primary ml-10" type="submit" ng-click="update(wlan)" value="Save"> </div> </form> </div> </div> </div> <hr class="visible-xs"> <div ng-if="online==2" class="col-md-5 col-md-offset-1"> <h3 class="m-none mb-20">Your <strong>Account</strong></h3> <p>Coonect device with Your meven.it account.</p> <a class="btn btn-primary" href="#"><i class="icon-user mr-5"></i>Connect Your account</a> </div> <hr class="visible-xs mt-40"> </div> </div> </div> </div> <footer class="footer"> <div class="footer-content clearfix"> <div class="pull-left hidden-xs"> <small class="text-muted block mt-20"> Â©2015 <strong>meven</strong>.it </small> </div> <div class="pull-right"> <a class="btn btn-default" href="#"><i class="fa fa-close mr-5"></i>CANCEL</a><a class="btn btn-primary ml-10" href="#"><i class="fa fa-check mr-5"></i>SAVE</a> </div> </div> </footer>')}]);
